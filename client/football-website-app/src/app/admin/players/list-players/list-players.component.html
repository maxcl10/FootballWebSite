<fws-page-header>Joueurs</fws-page-header>

<a
  class="btn btn-primary float-right mt-2"
  href=""
  [routerLink]="['/admin/players/0/edit']"
>
  <span class="fa fa-plus mr-2"></span> Joueur
</a>

<div *ngIf="players$ | async as players" class="mt-4">
  <fws-widget [headerText]="players?.length + ' joueurs'">
    <table class="table table-hover table-clickable table-borderless">
      <thead>
        <tr>
          <th></th>
          <th>Joueur</th>
          <th>Poste</th>
          <th class="d-none d-sm-inline">Date de naissance</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let player of players$ | async"
          (click)="onPlayerSelect(player)"
        >
          <td>
            <img
              [src]="
                'https://cdn.marez.fr/football/players/' +
                player.firstName +
                '_' +
                player.lastName +
                '.jpg'
              "
              style="height: 30px;"
              class="rounded-circle"
              onerror="this.onerror=null;this.src='https\:\/\/cdn.marez.fr/football/players/default.jpg'"
            />
          </td>
          <td>{{ player.lastName }} {{ player.firstName }}</td>
          <td>
            {{ player.position }}
          </td>
          <td class="d-none d-sm-block">
            {{ player.dateOfBirth | date: 'dd/MM/yyyy' }}
          </td>
        </tr>
      </tbody>
    </table>
  </fws-widget>
</div>
